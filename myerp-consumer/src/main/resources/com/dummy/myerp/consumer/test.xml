<?xml version="1.0" encoding="UTF-8"?>

        -
<beans xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-4.3.xsd"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.springframework.org/schema/beans">

    <!-- ==================== Consumer ==================== -->


    <!-- AbstractDbConsumer -->


    -
    <bean class="org.springframework.beans.factory.config.MethodInvokingFactoryBean">

        <property value="com.dummy.myerp.consumer.db.AbstractDbConsumer" name="targetClass"/>

        <property value="configure" name="targetMethod"/>


        -
        <property name="arguments">


            -
            <map>


                -
                <entry value-ref="dataSourceMYERP">


                    -
                    <key>

                        <value type="com.dummy.myerp.consumer.db.DataSourcesEnum">MYERP</value>

                    </key>

                </entry>

            </map>

        </property>

    </bean>

    <!-- ==================== Consumer-Proxy ==================== -->


    <!-- ConsumerHelper -->


    -
    <bean class="org.springframework.beans.factory.config.MethodInvokingFactoryBean">

        <property value="com.dummy.myerp.consumer.ConsumerHelper" name="targetClass"/>

        <property value="configure" name="targetMethod"/>


        -
        <property name="arguments">


            -
            <list>

                <ref bean="DaoProxy"/>

            </list>

        </property>

    </bean>

    <!-- DaoProxy -->


    -
    <bean class="com.dummy.myerp.consumer.dao.impl.DaoProxyImpl" factory-method="getInstance" id="DaoProxy">

        <property name="comptabiliteDao" ref="ComptabiliteDaoImpl"/>

    </bean>


    -
    <bean class="org.springframework.jdbc.datasource.DriverManagerDataSource" id="dataSourceMYERP">

        <property value="org.postgresql.Driver" name="driverClassName"/>

        <property value="jdbc:postgresql://192.168.99.100:5432/db_myerp" name="url"/>

        <!--<property name="url" value="jdbc:postgresql://postgres/db_myerp"/>-->


        <property value="usr_myerp" name="username"/>

        <property value="myerp" name="password"/>

    </bean>

    <!-- ========== SQL ========== -->


    <import resource="sqlContext.xml"/>

</beans>